<!DOCTYPE html>
<html data-bs-theme="light" lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>studentDashboard</title>
    <link rel="stylesheet" href="/userDashboardAssets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="/userDashboardAssets/css/bs-theme-overrides.css">
    <link rel="stylesheet" href="/userDashboardAssets/css/animate.min.css">
    <link rel="stylesheet" href="/userDashboardAssets/css/Lightbox-Gallery-No-Gutters-baguetteBox.min.css">
    <link rel="stylesheet" href="/userDashboardAssets/css/Navbar-Right-Links-Dark-icons.css">
</head>

<body style="width: 100%;filter: brightness(100%);text-align: center;">
<nav class="navbar navbar-expand-md py-3"
     style="--bs-body-bg: rgb(109,24,106);background: var(--bs-white);border-bottom-color: var(--bs-danger-border-subtle);box-shadow: 8px -6px 20px, 0px 0px 12px var(--bs-border-color);">
    <div class="container"><a class="navbar-brand d-flex align-items-center" href="#"
                              style="color: var(--bs-success-text-emphasis);"><span
                    class="bs-icon-sm bs-icon-rounded bs-icon-primary d-flex justify-content-center align-items-center me-2 bs-icon"><svg
                        xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor"
                        viewBox="0 0 16 16" class="bi bi-bezier" data-bss-hover-animate="jello">
                        <path fill-rule="evenodd"
                              d="M0 10.5A1.5 1.5 0 0 1 1.5 9h1A1.5 1.5 0 0 1 4 10.5v1A1.5 1.5 0 0 1 2.5 13h-1A1.5 1.5 0 0 1 0 11.5v-1zm1.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1zm10.5.5A1.5 1.5 0 0 1 13.5 9h1a1.5 1.5 0 0 1 1.5 1.5v1a1.5 1.5 0 0 1-1.5 1.5h-1a1.5 1.5 0 0 1-1.5-1.5v-1zm1.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1zM6 4.5A1.5 1.5 0 0 1 7.5 3h1A1.5 1.5 0 0 1 10 4.5v1A1.5 1.5 0 0 1 8.5 7h-1A1.5 1.5 0 0 1 6 5.5v-1zM7.5 4a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1z"></path>
                        <path d="M6 4.5H1.866a1 1 0 1 0 0 1h2.668A6.517 6.517 0 0 0 1.814 9H2.5c.123 0 .244.015.358.043a5.517 5.517 0 0 1 3.185-3.185A1.503 1.503 0 0 1 6 5.5v-1zm3.957 1.358A1.5 1.5 0 0 0 10 5.5v-1h4.134a1 1 0 1 1 0 1h-2.668a6.517 6.517 0 0 1 2.72 3.5H13.5c-.123 0-.243.015-.358.043a5.517 5.517 0 0 0-3.185-3.185z"></path>
                    </svg></span><span data-bss-hover-animate="pulse" style="font-size: 20px;text-align: center;">IUT Traffic Record Management System</span></a>
        <button data-bs-toggle="collapse" class="navbar-toggler" data-bs-target="#navcol-2"><span
                    class="visually-hidden">Toggle navigation</span><span class="navbar-toggler-icon"></span></button>
        <div class="collapse navbar-collapse" id="navcol-2" style="margin-right: -77px;">
            <ul class="navbar-nav ms-auto">
                <li class="nav-item"><a class="nav-link active" id="logout" href="/logout"
                                        style="padding-left: 52px;--bs-body-font-size: -14rem;font-size: 20px;text-shadow: 0px 0px 1px;color: var(--bs-emphasis-color);"
                                        name="logout"><span style="color: rgb(10, 54, 34);">Logout</span></a></li>
                <li class="nav-item"></li>
                <li class="nav-item"></li>
            </ul>
        </div>
    </div>
</nav>
<% if (error.length > 0) { %>
    <div class="alert alert-danger" role="alert" style="margin-top: 2%;margin-left: 25%;margin-right: 25%;width: 50%;">
        <strong><%= error ;%></strong>
    </div>
<% } %>
<form action="/dashboard" method="post">
    <div class="flex-column justify-content-between align-items-center"
         style="background: var(--bs-btn-hover-color);width: 50%;margin-left: 25%;margin-right: 25%;margin-top: 5%;border-radius: 25px;box-shadow: 0px 0px 6px;height: 302.688px;">
        <div style="width: 90%;background: var(--bs-body-bg);height: 40%;margin-right: 5%;margin-left: 5%;">
            <div class="input-group" style="margin-left: 10%;margin-top: 5%;width: 80%;height: 44px;margin-right: 10%;">
                <input class="form-control" type="file" id="image"
                       style="background: var(--bs-body-bg);margin-right: 12px;padding-right: 0px;border-radius: 7px;border-width: .5px;border-color: var(--bs-emphasis-color);"
                       name="image">
                <input class="btn btn-primary" id="upload_image" type="button"
                       style="background: var(--bs-danger-border-subtle);color: var(--bs-primary-text-emphasis);border-radius: 7px;"
                       name="upload_image"
                       onclick="extractLPText()"
                       value="Upload image">
            </div>
        </div>
        <span style="font-size: 27px;margin-top: -22px;">or</span>
        <div class="flex-column justify-content-center"
             style="background: var(--bs-body-bg);width: 90%;height: 54%;margin-right: 5%;margin-left: 5%;margin-bottom: initial;border-color: var(--bs-primary-bg-subtle);">
            <input class="form-control" type="text" id="vehicle_name"
                   style="margin-left: 53%;height: 40px;margin-top: -25px;margin-bottom: -15px;width: 35%;border-radius: 7px;border-width: 1px;"
                   placeholder="Give a Car Name" name="vehicleName">
            <input class="form-control" type="text"
                   id="license-number"
                   style="width: 35%;height: 40px;margin-left: 12%;border-radius: 7px;margin-top: -25px;border-width: 1px;border-color: var(--bs-emphasis-color);"
                   placeholder="Enter The License Number"
                   name="licenseNumber">
            <input class="btn btn-primary" id="register_car" type="submit"
                   style="height: 44px;width: initial;margin-left: 45%;margin-top: 2%;font-size: 16px;"
                   name="register_car"
                   value="Register">
        </div>
    </div>
</form>

<div class="table-responsive fw-semibold text-start"
     style="margin-top: 2%;width: 70%;margin-right: 10%;margin-left: 15%;box-shadow: 0px 0px 9px;border-radius: 12px;background: var(--bs-btn-hover-color);height: 350px">
    <table class="table">
        <thead style="width: 80%;padding: 0px;">
        <tr style="width: 80%;height: 57.5px;">
            <th style="box-shadow: 0px 0px 5px 0px;border-style: solid;">License number</th>
            <th style="box-shadow: 0px 0px 5px 0px;border-style: solid;">Car Name</th>
            <th style="box-shadow: 0px 0px 5px 0px;border-style: solid;">Status</th>
            <th style="box-shadow: 0px 0px 5px 0px;border-style: solid;">Remove</th>
        </tr>
        </thead>
        <tbody style="width: 80%;height: initial;">
        <% vehicles.forEach(vehicle => { %>
            <tr style="margin-right: 19px;margin-top: 0px;margin-left: -2px;">
                <td style="box-shadow: 0px 0px 5px 0px;border-style: solid;"><%= vehicle.licenseNumber; %></td>
                <td style="box-shadow: 0px 0px 5px 0px;border-style: solid;"><%= vehicle.vehicleName; %></td>
                <td style="box-shadow: 0px 0px 5px 0px;border-style: solid;"><%= vehicle.status; %></td>
                <td style="box-shadow: 0px 0px 5px 0px;border-style: solid;">
                    <a href="/dashboard/remove-vehicle?licenseNumber=<%= vehicle.licenseNumber; %>"
                       style="color: var(--bs-primary-text-emphasis);">Remove</a>
                </td>
            </tr>
        <% }); %>
        </tbody>
    </table>
</div>
<script src="/userDashboardAssets/bootstrap/js/bootstrap.min.js"></script>
<script src="/userDashboardAssets/js/bs-init.js"></script>
<script src="/userDashboardAssets/js/Lightbox-Gallery-No-Gutters-baguetteBox.min.js"></script>
<script src="/userDashboardAssets/js/Lightbox-Gallery-No-Gutters-Lightbox-Gallery.js"></script>

<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script src="/extract-lptext.js"></script>

</body>
</html>